# âš¡ WhichKey.Unity
ä¸€ç§ç±»ä¼¼Vimçš„é«˜æ•ˆèˆ’é€‚Unityå¿«æ·é”®ç®¡ç†æ–¹å¼ï¼Œå—Whichkey.nvimå¯å‘ã€‚
![showcase-s](https://github.com/PostCyberPunk/WhichKey.Unity/assets/134976996/0bd1dec9-9239-4a88-ae3e-8108680ab0de)
![sv-s](https://github.com/PostCyberPunk/WhichKey.Unity/assets/134976996/20693c41-47ae-4f22-81de-9533fbd27182)
![fa-s](https://github.com/PostCyberPunk/WhichKey.Unity/assets/134976996/a5bd8af1-f52b-42dc-93c3-8012565b46b7)
![ad-s](https://github.com/PostCyberPunk/WhichKey.Unity/assets/134976996/da2ccc49-ee31-4e0b-87a8-c84d06234d2c)



## â“WhichKeyæ˜¯ä»€ä¹ˆ
### 1. æ›´å¤šæ›´å¥½è®°çš„å¿«æ·é”®
WhichKey ä½¿ç”¨``æ¿€æ´»``åŠ åºåˆ—é”®è€Œä¸ä½¿ç”¨ç»„åˆé”®,for æ¯”å¦‚è¯´ä½ ä½¿ç”¨ ``Space`` ä½œä¸ºæ¿€æ´»é”®:
- Unity : **Move To view** ``ctrl``+``alt``+``f`` **Align with view** ``ctrl``+``shift``+``f``
- WhichKey: **Move to View** ``space`` ``v`` ``m``  , **Align with View** ``space`` ``v`` ``a``

åºåˆ—é”®æ¯”èµ·ç»„åˆé”®æ›´åŠ æ¸…æ™°ï¼Œå¹¶ä¸”ä¸ç”¨åŒæ—¶æŒ‰æŠ˜ç£¨æ‰‹æŒ‡ã€‚WhichKeyå’ŒUnityåŸå‘³å¿«æ·é”®ä¹Ÿæ²¡æœ‰å†²çª.

### 2. æç¤ºçª—å£
æœ‰å¾ˆå¤šä¸å¸¸ç”¨çš„å¿«æ·é”®ä¼šå¾ˆå®¹æ˜“å¿˜æ‰ï¼Œå¦‚æœå®åœ¨æƒ³ä¸èµ·æ¥åé¢çš„å¿«æ·é”®æ˜¯ä»€ä¹ˆï¼ŒWhichKeyä¼šåœ¨ä¸€å°æ®µæ—¶é—´ï¼ˆå¯è®¾ç½®ï¼‰åæ‰“å¡ä¸€ä¸ªçª—å£æç¤ºä½ .
![Alt text](/Images/HintWIn.png)
### 3. å‡å°‘æ‰‹çš„ç§»åŠ¨
æˆ‘æ„Ÿè§‰å¾ˆå¤šå‘æˆ‘ä¸€æ ·çš„vimç”¨æˆ·æœ€è®¨åŒçš„å°±æ˜¯æ‰‹è¦åœ¨é¼ æ ‡å’Œé”®ç›˜ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚å› ä¸ºWhichKeyå¯ä»¥æä¾›æ›´å¤šå¿«æ·é”®ï¼Œä½ å¯ä»¥å°†å¤§éƒ¨åˆ†å¿«æ·é”®è®¾ç½®åœ¨å•æ‰‹åŒºåŸŸæ¥é¿å…åˆ‡æ¢é¼ æ ‡é”®ç›˜ã€‚ä¹Ÿå¯ä»¥åŠ ä¸Šä¸€äº›åŒæ‰‹å¿«æ·é”®åœ¨IDEå’ŒUnityåˆ‡æ¢æ—¶ä½¿ç”¨

<!-- ### 4. Workflow -->
 <!-- Theoretically speaking,you can have infinite shortcuts with WhichKey,who doesn`t love more shortcuts?Its easy to write some editor scripts,but bulit-shortcut is never enough,so its time to stop moving you mouse around,navigation through multi-level menu,lets build a better workflow by using WhichKey,give it a week to take in,you will find the magic. -->

## ğŸ“¦å®‰è£…

WhichKeyè¿˜åœ¨å¼€å‘çŠ¶æ€ï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šæ›´æ–°ï¼Œå»ºè®®ä½¿ç”¨OpenUPMå®‰è£…
<details>
<summary>OpenUPM</summary>
 
- æ‰“å¼€ ``Edit/Project Settings/Package Manager``
- æ·»åŠ  Scoped Registry:
  ```
  Name: OpenUPM
  URL:  https://package.openupm.cn/
  Scope(s): com.postcyberpunk.whichkey
  ```
- ç‚¹å‡»<kbd>Save</kbd>
- æ‰“å¼€ Package Manager
- ç‚¹å‡»å·¦ä¸Šè§’çš„ <kbd>+</kbd>
- é€‰æ‹© <kbd>Add from Git URL</kbd>
- è¾“å…¥ ``com.postcyberpunk.whichkey``
- ç‚¹å‡» <kbd>Add</kbd> 
</details>


## âš™ï¸è®¾ç½®
ä½ éœ€è¦å…ˆç”¨Unityå†…ç½®å¿«æ·é”®ç»‘å®šWhichKey/Actie

>ğŸš€ä½ å¯ä»¥é€šè¿‡WhichKey/Extra/Load Quickstart Exampleæ¥è·å¾—ä¸€ä¸ªç®€å•çš„é¢„è®¾

ä½ å¯ä»¥åœ¨Preferencesçª—å£çš„Whichkeyé€‰é¡¹å¡ä¸­çš„Mappingéƒ¨åˆ†æ·»åŠ å¿«æ·é”®ï¼ŒProjectSettingä¸­ä¹Ÿæœ‰åŒæ ·çš„é€‰é¡¹ï¼Œ

### âŒ¨ï¸å¿«æ·é”®ç»‘å®š
ç‚¹å‡»``Bind``æŒ‰é’®æ¥ç»‘å®šå¿«æ·é”®ï¼Œæ³¨æ„WhichKeyç›®å‰ä¸æ”¯æŒ``Ctrl`` ``Alt``ç­‰ç»„åˆé”®ï¼Œä»…å¯ä»¥ä½¿ç”¨``shift``ä¸å­—æ¯æ•°å­—çš„ç»„åˆå‡æ¡ˆ
![Alt text](/Images/Bindwin.png)
### Types:
- Layer

    ä½ å¯ä»¥æŠŠä»–å½“ä½œç›®å½•ï¼Œæ¯”å¦‚ä½ æœ‰ä¸€ç³»åˆ—ä»¥``g``å¼€å¤´å’ŒGameobjectç›¸å…³çš„ç»„åˆé”®ï¼Œä½ å°±å¯ä»¥æ·»åŠ ä¸€ä¸ªGamobjectçš„layerä½œä¸ºæç¤º
	Treat it like a folder,for example,you have some GameObject related shortcuts follow by ``g``,you can add a layer ``g`` and set hints to "GameObject"
	> ä½ ä¹Ÿå¯ä»¥åœ¨Layeråˆ—è¡¨ä¸­æ·»åŠ layer

- Menu

  ä½œç”¨å°±æ˜¯ ``EditorApplication.ExecuteMenuItem``,ç”¨æ¥ç»‘å®šèœå•çš„ï¼ŒArgumenté‡Œå¡«èœå•è·¯å¾„
  >åœ¨Menuåˆ—è¡¨ä¸­ä¼šæœ‰ä¸€ä¸ªè¾…åŠ©æŒ‰é’®ï¼Œä½†æ˜¯ä¸€äº›å†…ç½®çš„èœå•è·¯å¾„å¹¶ä¸èƒ½é€šè¿‡åå°„è·å¾—ï¼Œä»ç„¶éœ€è¦æ‰‹åŠ¨æ·»åŠ 

  >èœå•è·¯å¾„å¿…é¡»ä½¿ç”¨å…¨è‹±æ–‡ï¼ŒåŒºåˆ†å¤§å°å†™ï¼Œæœ‰çš„è¿˜ä¼šæœ‰``...``ï¼Œæ€»è€Œè¨€ä¹‹ ä¸€å­—ä¸å·®æ‰è¡Œ


- Method
    å¦‚æœä½ æœ‰å¾ˆå¤šè‡ªåˆ¶çš„æ–¹æ³•æƒ³è¦ç»‘å®šï¼Œä½†æ˜¯ä¸æƒ³èœå•è¿‡äºæ··ä¹±ï¼Œå¯ä»¥ä¸ºä½ çš„æ–¹æ³•æ·»åŠ WhichKeyMethod(id)å±æ€§ï¼Œç„¶åæŠŠidå¡«åœ¨argumenté‡Œ,
```cs
using PCP.WhichKey;
...
[WhichKeyMethod(101)]
public static void WKHelloWorld()
{
	Debug.Log("WhichKey:Hi");
}
```

### Extra
>è¯¥éƒ¨åˆ†ä½œä¸ºapiç¤ºä¾‹ï¼Œä¸æä¾›è¿‡å¤šæ”¯æŒ
- AssetNav
	
	åˆ›å»ºä¸€ä¸ª ``AssetNavData`` ScriptableObject,åœ¨ProjectSettingsçª—å£WhichKey/Assets Navigationé€‰é¡¹å¡ä¸­æ·»åŠ ä»–ï¼Œåƒå›¾é‡Œä¸€æ ·ç»‘å®šå¿«æ·é”®

![Alt text](/Images/navset.jpg)
ç°åœ¨ä½ å¯ä»¥é€šè¿‡``f`` ``A``  ``[key]`` ä¸ºassetæ·»åŠ æ ‡è®°,ä½¿ç”¨ ``f`` ``a`` ``[key]``æ¥å®šä½Asset,ä½ å¯ä»¥ä»–åˆ›å»ºå¤šä¸ªAssetNavå¯¹è±¡ï¼Œåœ¨argumentå¡«å…¥å¯¹åº”çš„ç´¢å¼•å€¼

- SceneNav  
    åœºæ™¯ä¸­Gameobjectçš„ä¹¦ç­¾ç®¡ç†ï¼Œå¯ä»¥é€šè¿‡WhichKey/Extra/Scene Nav Windowè¿›è¡Œè®¾ç½®


## ğŸ”¥è‡ªå®šä¹‰ command å’Œ handler
å‚ç…§ Extra æˆ–è€… [Wiki](https://github.com/PostCyberPunk/WhichKey.Unity/wiki)


## ğŸ¨ ä¸»é¢˜
åœ¨Assetsæ–‡ä»¶å¤¹é‡Œæ·»åŠ ä¸‹é¢ä¸¤ä¸ªæ–‡ä»¶,åœ¨ ``ThemePreview`` é‡Œç¼–è¾‘USS.
åœ¨ProjectSettingsçª—å£ä¸­çš„Whichkeyé€‰é¡¹å¡é‡ŒæŠŠ`Theme.uss`åˆ†é…åˆ°Custom USSå³å¯
<details>
<summary>Theme.uss</summary>

```css
.main {
    background-color: rgb(56, 56, 56);
    border-left-color: rgb(47, 47, 47);
    border-right-color: rgb(47, 47, 47);
    border-top-color: rgb(47, 47, 47);
    border-bottom-color: rgb(47, 47, 47);
    border-left-width: 5px;
    border-right-width: 5px;
    border-top-width: 5px;
    border-bottom-width: 5px;
    flex-direction: column;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 15px;
    padding-bottom: 15px;
    justify-content: center;
    align-items: center;
}

.frame {
    flex-grow: 1;
    background-color: rgba(0, 0, 0, 0);
    flex-direction: row;
    padding-top: 0;
    padding-bottom: 0;
    border-left-color: rgb(47, 47, 47);
    border-right-color: rgb(47, 47, 47);
    border-top-color: rgb(47, 47, 47);
    border-bottom-color: rgb(47, 47, 47);
    border-left-width: 2px;
    border-right-width: 2px;
    border-top-width: 2px;
    border-bottom-width: 2px;
    align-items: center;
    padding-left: 5px;
}

.key {
    font-size: 20px;
    color: rgb(210, 210, 210);
    width: auto;
    background-color: rgb(42, 42, 42);
    -unity-text-align: middle-center;
    border-left-color: rgb(91, 91, 91);
    border-right-color: rgb(91, 91, 91);
    border-top-color: rgb(91, 91, 91);
    border-bottom-color: rgb(91, 91, 91);
    border-left-width: 3px;
    border-right-width: 3px;
    border-top-width: 3px;
    border-bottom-width: 3px;
    border-top-left-radius: 5px;
    border-bottom-left-radius: 5px;
    border-top-right-radius: 5px;
    border-bottom-right-radius: 5px;
    min-width: 30px;
}

.hint {
    font-size: 20px;
    margin-left: 10px;
    color: rgb(166, 173, 200);
    white-space: nowrap;
}

.title {
    font-size: 20px;
    color: rgb(166, 173, 200);
    white-space: nowrap;
    align-self: center;
    -unity-font-style: bold;
    -unity-text-align: upper-center;
    align-items: auto;
    margin-bottom: 10px;
}
```

</details>

<details>
<summary>ThemePreview.uxml</summary>

```xml
<ui:UXML xmlns:ui="UnityEngine.UIElements" xmlns:uie="UnityEditor.UIElements" xsi="http://www.w3.org/2001/XMLSchema-instance" engine="UnityEngine.UIElements" editor="UnityEditor.UIElements" noNamespaceSchemaLocation="../../UIElementsSchema/UIElements.xsd" editor-extension-mode="True">
    <Style src="project://database/Assets/Default/Theme.uss?fileID=7433441132597879392&amp;guid=a9ebbc19d7d87044f9a8356a5dd9f474&amp;type=3#Theme" />
    <ui:VisualElement name="Main" class="main">
        <ui:Label tabindex="-1" text="Label" display-tooltip-when-elided="true" name="Title" class="title" />
        <ui:VisualElement name="Frame" class="frame">
            <ui:Label tabindex="-1" text="A" display-tooltip-when-elided="true" name="Key" class="key" />
            <ui:Label tabindex="-1" text="Hello this is a test Hint" display-tooltip-when-elided="true" name="Hint" class="hint" />
        </ui:VisualElement>
    </ui:VisualElement>
</ui:UXML>

```

</details>

## å…¼å®¹æ€§
2023.1 å’Œ 2022.3éƒ½æµ‹è¯•è¿‡